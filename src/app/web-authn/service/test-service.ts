import { HttpClient, HttpHeaders } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { Observable } from 'rxjs/internal/Observable';
import { DecodedAttestionObj } from '../model/web-authn.model';
import { MockService } from './mock-service';
import * as CBOR from '../utils/cbor';
@Injectable()
export class TestService {
    private url = '';
    private baseUrl = 'http://localhost:8080';
    constructor(public http: HttpClient, private mockService: MockService) {
    }
    mockData: any = {
        "rawId": "9VV9hvzNLUwsivnss8jRvuAfbZ0",
        "response": {
            "clientDataJSON": "eyJ0eXBlIjoid2ViYXV0aG4uY3JlYXRlIiwiY2hhbGxlbmdlIjoiWXpNNFlUTXpaalV0TXpka1ppMDBOell4TFdFMlltWXROR0l3WmpJd01ERTBNbU5oIiwib3JpZ2luIjoiaHR0cHM6Ly9taDEyMDg4LmdpdGh1Yi5pbyJ9",
            "attestationObject": "o2NmbXRlYXBwbGVnYXR0U3RtdKFjeDVjglkCRzCCAkMwggHJoAMCAQICBgF92_bwITAKBggqhkjOPQQDAjBIMRwwGgYDVQQDDBNBcHBsZSBXZWJBdXRobiBDQSAxMRMwEQYDVQQKDApBcHBsZSBJbmMuMRMwEQYDVQQIDApDYWxpZm9ybmlhMB4XDTIxMTIyMDA3NDg1M1oXDTIxMTIyMzA3NDg1M1owgZExSTBHBgNVBAMMQDM5MGM1OThmNjFhZGEyNjFhMGMzMjkxNjA3MjNiMjZmNjBjMDZhMjM3ODcxNTkzMjgyN2RlYzUwNDhkNWZlNjgxGjAYBgNVBAsMEUFBQSBDZXJ0aWZpY2F0aW9uMRMwEQYDVQQKDApBcHBsZSBJbmMuMRMwEQYDVQQIDApDYWxpZm9ybmlhMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEKQD79-GZrmE9sJoNXicgksjkecZ6C4S8pLZ_8K4tnyB4_o7RK_AnYzETy94VCDuqWGAfc-Z1eQR73D45kEMP4aNVMFMwDAYDVR0TAQH_BAIwADAOBgNVHQ8BAf8EBAMCBPAwMwYJKoZIhvdjZAgCBCYwJKEiBCAASnNXJq3GOtvKP5w0j3ZKS9kUD5c4pp0azxMi3KoAMjAKBggqhkjOPQQDAgNoADBlAjEAsIW5msSUwwq1ZQD2IuddhUOH7kNHiOZ_xliwz8xUB5sfsLPPzkWroJ0L59A8yVoJAjB2Ay1Pq3OQgJv6-UY5-DmzkW1l7zsfMkGtVQ9Jiw72jjYA2Ci2Vo7vOHW-R-c78iVZAjgwggI0MIIBuqADAgECAhBWJVOVx6f7QOviKNgmCFO2MAoGCCqGSM49BAMDMEsxHzAdBgNVBAMMFkFwcGxlIFdlYkF1dGhuIFJvb3QgQ0ExEzARBgNVBAoMCkFwcGxlIEluYy4xEzARBgNVBAgMCkNhbGlmb3JuaWEwHhcNMjAwMzE4MTgzODAxWhcNMzAwMzEzMDAwMDAwWjBIMRwwGgYDVQQDDBNBcHBsZSBXZWJBdXRobiBDQSAxMRMwEQYDVQQKDApBcHBsZSBJbmMuMRMwEQYDVQQIDApDYWxpZm9ybmlhMHYwEAYHKoZIzj0CAQYFK4EEACIDYgAEgy6HLyYUkYECJbn1_Na7Y3i19V8_ywRbxzWZNHX9VJBE35v-GSEXZcaaHdoFCzjUUINAGkNPsk0RLVbD4c-_y5iR_sBpYIG--Wy8d8iN3a9Gpa7h3VFbWvqrk76cCyaRo2YwZDASBgNVHRMBAf8ECDAGAQH_AgEAMB8GA1UdIwQYMBaAFCbXZNnFeMJaZ9Gn3msS0Btj8cbXMB0GA1UdDgQWBBTrroLE_6GsW1HUzyRhBQC-Y713iDAOBgNVHQ8BAf8EBAMCAQYwCgYIKoZIzj0EAwMDaAAwZQIxAN2LGjSBpfrZ27TnZXuEHhRMJ7dbh2pBhsKxR1dQM3In7-VURX72SJUMYy5cSD5wwQIwLIpgRNwgH8_lm8NNKTDBSHhR2WDtanXx60rKvjjNJbiX0MgFvvDH94sHpXHG6A4HaGF1dGhEYXRhWJhkL_D9XNLRHqMZoGbUoQMaXmUwQR9RoCNKlcs30mZ5ZUUAAAAA8kqOcNDT-CwpNzJSPMTeWgAU9VV9hvzNLUwsivnss8jRvuAfbZ2lAQIDJiABIVggKQD79-GZrmE9sJoNXicgksjkecZ6C4S8pLZ_8K4tnyAiWCB4_o7RK_AnYzETy94VCDuqWGAfc-Z1eQR73D45kEMP4Q",
        },
        "getClientExtensionResults": {},
        "id": "9VV9hvzNLUwsivnss8jRvuAfbZ0",
        "type": "public-key",
        "lala": [
            123,
            34,
            116,
            121,
            112,
            101,
            34,
            58,
            34,
            119,
            101,
            98,
            97,
            117,
            116,
            104,
            110,
            46,
            103,
            101,
            116,
            34,
            44,
            34,
            99,
            104,
            97,
            108,
            108,
            101,
            110,
            103,
            101,
            34,
            58,
            34,
            89,
            106,
            81,
            48,
            77,
            122,
            85,
            120,
            89,
            106,
            89,
            116,
            90,
            106,
            89,
            119,
            89,
            121,
            48,
            48,
            78,
            84,
            82,
            104,
            76,
            84,
            104,
            105,
            77,
            122,
            77,
            116,
            79,
            87,
            85,
            49,
            89,
            122,
            99,
            49,
            77,
            84,
            99,
            49,
            90,
            71,
            85,
            48,
            34,
            44,
            34,
            111,
            114,
            105,
            103,
            105,
            110,
            34,
            58,
            34,
            104,
            116,
            116,
            112,
            58,
            47,
            47,
            108,
            111,
            99,
            97,
            108,
            104,
            111,
            115,
            116,
            58,
            52,
            50,
            48,
            48,
            34,
            44,
            34,
            99,
            114,
            111,
            115,
            115,
            79,
            114,
            105,
            103,
            105,
            110,
            34,
            58,
            102,
            97,
            108,
            115,
            101,
            125]
    };

    savePublicKey(): Observable<any> {
        this.url = `${this.baseUrl}/save-public-key`;
        return this.http.post<any>(this.url, this.mockData);
    }
}
