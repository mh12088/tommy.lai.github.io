{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/toggle-switch/toggle-switch.component.ts","./src/app/components/toggle-switch/toggle-switch.component.html","./src/app/components/web-authn-mock/web-authn-mock.component.ts","./src/app/components/web-authn-mock/web-authn-mock.component.html","./src/app/components/web-authn/utils/app-util.ts","./src/app/components/web-authn/web-authn.component.ts","./src/app/components/web-authn/web-authn.component.html","./src/app/push-notification/push-notification.component.ts","./src/app/push-notification/push-notification.component.html","./src/app/pwa-install-promotion/pwa-install-promotion.component.ts","./src/app/pwa-install-promotion/pwa-install-promotion.component.html","./src/app/pwa-install-promotion/service/google-analytics-service.ts","./src/app/services/mock.service.ts","./src/app/services/web-authn-api.service.ts","./src/app/services/web-authn-mock.service.ts","./src/app/services/web-authn-service.ts","./src/app/utils/cbor.js","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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;AACA;AACA;AACA;AACA;;AAEA,8BAA8B;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,8BAA8B,cAAc;AAC5C;AACA,8BAA8B,kBAAkB;;AAEhD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,qBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA,mBAAmB,0CAA0C;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,WAAW;;AAEX,IAAI,IAA0C;AAC9C,EAAE,oCAAoB,GAAG;AAAA;AAAA;AAAA;AAAA,oGAAC;AAC1B,KAAK,EAGe;;AAEpB,CAAC,Q;;;;;;;;;;;;ACrZD;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACfnE;AAAA;AAAA;AAAA;AAAA;AAA+C;AAIU;;;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,GAAG,EAAE;IACjD,2EAAwB,gBACN,CAAC,0DAAU;SAC1B,IAAI,CAAC,GAAG,EAAE;QACT,IAAI,eAAe,IAAI,SAAS,EAAE;YAChC,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;YAC3C,SAAS,CAAC,aAAa,CAAC,QAAQ,CAAC,2BAA2B,CAAC;iBAC1D,IAAI,CAAC,UAAU,KAAK;gBACnB,OAAO,CAAC,GAAG,CAAC,8BAA8B,EAAE,KAAK,CAAC,CAAC;YACrD,CAAC,CAAC;iBACD,KAAK,CAAC,UAAU,KAAK;gBACpB,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC;YAC/C,CAAC,CAAC,CAAC;SACN;QACD,IAAI,aAAa,IAAI,MAAM,EAAE;YAC3B,YAAY,CAAC,iBAAiB,CAAC,UAAU,MAAM;gBAC7C,OAAO,CAAC,GAAG,CAAC,iCAAiC,EAAE,MAAM,CAAC,CAAC;YACzD,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;SAC5C;aAAM;YACL,OAAO,CAAC,KAAK,CAAC,iCAAiC,CAAC,CAAC;SAClD;IACH,CAAC,CAAC;SACD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AACpC,CAAC,CAAC,CAAC","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { GoogleAnalyticsService } from './pwa-install-promotion/service/google-analytics-service';\nimport * as uuid from 'uuid';\nimport { initializeApp } from \"firebase/app\";\nimport { getMessaging, getToken, onMessage } from \"firebase/messaging\";\nimport { FireBaseService } from './push-notification/service/firebase.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'biometric-login-demo';\n  isMock: boolean;\n  constructor() { }\n\n  ngOnInit() {\n    // this._$gaService.init();\n    const deviceId = uuid.v4();\n    if (!localStorage.getItem(\"device_id\")) {\n      localStorage.setItem(\"device_id\", deviceId);\n    };\n    this.isMock = localStorage.getItem('isMock') === 'true' ? true : false;\n\n    // this._$firebaseService.init();\n  }\n\n  updateIsMockFlag(event) {\n    this.isMock = event;\n  }\n}\n","<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->\n<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->\n<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->\n<!-- * * * * * * * to get started with your project! * * * * * * * * -->\n<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->\n\n<style>\n  :host {\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n    font-size: 14px;\n    color: #333;\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    margin: 8px 0;\n  }\n\n  p {\n    margin: 0;\n  }\n\n  .spacer {\n    flex: 1;\n  }\n\n  .toolbar {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    background-color: #292d84;\n    color: white;\n    font-weight: 600;\n  }\n\n  .toolbar img {\n    margin: 0 16px;\n  }\n\n  .toolbar #twitter-logo {\n    height: 40px;\n    margin: 0 16px;\n  }\n\n  .toolbar #twitter-logo:hover {\n    opacity: 0.8;\n  }\n\n  .content {\n    display: flex;\n    margin: 82px auto 32px;\n    padding: 0 16px;\n    max-width: 960px;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  svg.material-icons {\n    height: 24px;\n    width: auto;\n  }\n\n  svg.material-icons:not(:last-child) {\n    margin-right: 8px;\n  }\n\n  .card svg.material-icons path {\n    fill: #888;\n  }\n\n  .card-container {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 16px;\n  }\n\n  .card {\n    border-radius: 4px;\n    border: 1px solid #eee;\n    background-color: #fafafa;\n    height: 40px;\n    width: 200px;\n    margin: 0 8px 16px;\n    padding: 16px;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: all 0.2s ease-in-out;\n    line-height: 24px;\n  }\n\n  .card-container .card:not(:last-child) {\n    margin-right: 0;\n  }\n\n  .card.card-small {\n    height: 16px;\n    width: 168px;\n  }\n\n  .card-container .card:not(.highlight-card) {\n    cursor: pointer;\n  }\n\n  .card-container .card:not(.highlight-card):hover {\n    transform: translateY(-3px);\n    box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n  }\n\n  .card-container .card:not(.highlight-card):hover .material-icons path {\n    fill: rgb(105, 103, 103);\n  }\n\n  .card.highlight-card {\n    background-color: #1976d2;\n    color: white;\n    font-weight: 600;\n    border: none;\n    width: auto;\n    min-width: 30%;\n    position: relative;\n  }\n\n  .card.card.highlight-card span {\n    margin-left: 60px;\n  }\n\n  svg#rocket {\n    width: 80px;\n    position: absolute;\n    left: -10px;\n    top: -24px;\n  }\n\n  svg#rocket-smoke {\n    height: calc(100vh - 95px);\n    position: absolute;\n    top: 10px;\n    right: 180px;\n    z-index: -10;\n  }\n\n  a,\n  a:visited,\n  a:hover {\n    color: #1976d2;\n    text-decoration: none;\n  }\n\n  a:hover {\n    color: #125699;\n  }\n\n  .terminal {\n    position: relative;\n    width: 80%;\n    max-width: 600px;\n    border-radius: 6px;\n    padding-top: 45px;\n    margin-top: 8px;\n    overflow: hidden;\n    background-color: rgb(15, 15, 16);\n  }\n\n  .terminal::before {\n    content: \"\\2022 \\2022 \\2022\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 4px;\n    background: rgb(58, 58, 58);\n    color: #c2c3c4;\n    width: 100%;\n    font-size: 2rem;\n    line-height: 0;\n    padding: 14px 0;\n    text-indent: 4px;\n  }\n\n  .terminal pre {\n    font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\n    color: white;\n    padding: 0 1rem 1rem;\n    margin: 0;\n  }\n\n  .circle-link {\n    height: 40px;\n    width: 40px;\n    border-radius: 40px;\n    margin: 8px;\n    background-color: white;\n    border: 1px solid #eeeeee;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n    transition: 1s ease-out;\n  }\n\n  .circle-link:hover {\n    transform: translateY(-0.25rem);\n    box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n  }\n\n  footer {\n    margin-top: 8px;\n    display: flex;\n    align-items: center;\n    line-height: 20px;\n  }\n\n  footer a {\n    display: flex;\n    align-items: center;\n  }\n\n  .github-star-badge {\n    color: #24292e;\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    padding: 3px 10px;\n    border: 1px solid rgba(27, 31, 35, .2);\n    border-radius: 3px;\n    background-image: linear-gradient(-180deg, #fafbfc, #eff3f6 90%);\n    margin-left: 4px;\n    font-weight: 600;\n    font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;\n  }\n\n  .github-star-badge:hover {\n    background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%);\n    border-color: rgba(27, 31, 35, .35);\n    background-position: -.5em;\n  }\n\n  .github-star-badge .material-icons {\n    height: 16px;\n    width: 16px;\n    margin-right: 4px;\n  }\n\n  svg#clouds {\n    position: fixed;\n    bottom: -160px;\n    left: -230px;\n    z-index: -10;\n    width: 1920px;\n  }\n\n\n  /* Responsive Styles */\n  @media screen and (max-width: 767px) {\n\n    .card-container>*:not(.circle-link),\n    .terminal {\n      width: 100%;\n    }\n\n    .card:not(.highlight-card) {\n      height: 16px;\n      margin: 8px 0;\n    }\n\n    .card.highlight-card span {\n      margin-left: 72px;\n    }\n\n    svg#rocket-smoke {\n      right: 120px;\n      transform: rotate(-5deg);\n    }\n  }\n\n  @media screen and (max-width: 575px) {\n    svg#rocket-smoke {\n      display: none;\n      visibility: hidden;\n    }\n  }\n</style>\n<!-- Toolbar -->\n<div class=\"toolbar\" role=\"banner\">\n</div>\n\n<div class=\"content\" role=\"main\">\n  <!-- <app-push-notification></app-push-notification> -->\n  <!-- <app-pwa-install-promotion></app-pwa-install-promotion> -->\n  <div style=\"display: flex;\">\n    <app-toggle-switch (callback)=\"updateIsMockFlag($event);\" [flagName]=\"'isMock'\"></app-toggle-switch>\n    <app-toggle-switch  style=\"margin-left: 50px;\" [flagName]=\"'isPlatform'\"></app-toggle-switch>\n  </div>\n  <ng-container *ngIf=\"!isMock\">\n    <app-web-authn></app-web-authn>\n  </ng-container>\n  <ng-container *ngIf=\"isMock\">  \n    <app-web-authn-mock></app-web-authn-mock>\n  </ng-container>\n  <router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from '../environments/environment';\nimport { PwaInstallPromotionComponent } from './pwa-install-promotion/pwa-install-promotion.component';\nimport { HttpClientModule} from '@angular/common/http';\nimport { PushNotificationComponent } from './push-notification/push-notification.component';\nimport { WebAuthnMockComponent } from './components/web-authn-mock/web-authn-mock.component';\nimport { WebAuthnComponent } from './components/web-authn/web-authn.component';\nimport { WebAuthnAPIService } from './services/web-authn-api.service';\nimport { ToggleSwitchComponent } from './components/toggle-switch/toggle-switch.component';\nimport { WebAuthnService } from './services/web-authn-service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    WebAuthnComponent,\n    PwaInstallPromotionComponent,\n    PushNotificationComponent,\n    WebAuthnMockComponent,\n    ToggleSwitchComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    FormsModule,\n    ReactiveFormsModule,\n    // ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production }),\n    ServiceWorkerModule.register('ngsw-worker-modified.js', { enabled: environment.production }),    \n    HttpClientModule\n  ],\n  providers: [WebAuthnAPIService, WebAuthnService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { MockService } from 'src/app/services/mock.service';\n\n@Component({\n  selector: 'app-toggle-switch',\n  templateUrl: './toggle-switch.component.html',\n  styleUrls: ['./toggle-switch.component.scss']\n})\nexport class ToggleSwitchComponent implements OnInit {\n  @Input()\n  flagName: string;\n  isChecked: boolean;\n  @Output() callback = new EventEmitter<boolean>();\n  constructor(private mockService: MockService) { }\n\n  ngOnInit(): void {\n    this.isChecked = !!JSON.parse(localStorage.getItem(this.flagName));\n  }\n\n\n  onChange() {\n    this.isChecked = !this.isChecked;\n    switch (this.flagName) {\n      case 'isMock':\n        localStorage.setItem(this.flagName, JSON.stringify(this.isChecked));\n        localStorage.removeItem('deviceId');\n        localStorage.removeItem('user_list');\n        this.callback.emit(this.isChecked);\n        this.mockService.resetUser();\n        break;\n      default:\n        localStorage.setItem(this.flagName, JSON.stringify(this.isChecked));\n        break;\n    }\n  }\n\n}\n","<div class=\"toggle-switch-container\">\n    <label class=\"switch\">\n        <input type=\"checkbox\" (change)=\"onChange()\" [checked]=\"isChecked\">\n        <span class=\"slider round\"></span>\n    </label>\n    <div>{{flagName}}</div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { from, Observable, of } from 'rxjs';\nimport { MockService } from 'src/app/services/mock.service';\nimport { User } from 'src/app/models/web-authn.model';\nimport { WebAuthnMockService } from 'src/app/services/web-authn-mock.service';\n\n@Component({\n  selector: 'app-web-authn-mock',\n  templateUrl: './web-authn-mock.component.html',\n  styleUrls: ['./web-authn-mock.component.scss']\n})\nexport class WebAuthnMockComponent implements OnInit {\n  errorMsg: string = \"\";\n  userList: User[] = [];\n  userForm = new FormGroup({\n    email: new FormControl(\"\", [Validators.required, Validators.email]),\n    mobileNumber: new FormControl(\"\", [Validators.required, Validators.pattern(\"^[0-9]{8}$\")]),\n    isEnableBiometricLogin: new FormControl(),\n  });\n  deviceId: string;\n  savedCredentialId: Uint8Array;\n  authenticator: any = {};\n  isSupportBiometricLogin$: Observable<boolean>;\n\n  constructor(\n    private mockService: MockService,\n    private webAuthnMockService: WebAuthnMockService\n  ) { }\n\n  get email(): any {\n    return this.userForm.get('email');\n  }\n\n  get mobileNumber(): any {\n    return this.userForm.get('mobileNumber');\n  }\n\n  get isEnableBiometricLogin(): any {\n    return this.userForm.get('isEnableBiometricLogin')\n  }\n\n  ngOnInit(): void {\n    this.userList = this.mockService.getAllUser();\n    this.deviceId = localStorage.getItem(\"device_id\") || \"\";\n    this.isSupportBiometricLogin$ = this.isSupportBiometricLogin();\n  }\n\n  enableBiometricLogin(user: User): void {\n    if (user.credentials.length === 0) {\n      const isConfirm = confirm(\"Are you sure you want to enable biometric login?\");\n      if (isConfirm) this.webAuthnSignup(user);\n    } else {\n      const isConfirm = confirm(\"Are you sure you want to disable biometric login?\");\n      if (isConfirm) {\n        user.credentials = [];\n        this.mockService.updateUser(user);\n      }\n    }\n  }\n\n  deleteAccount(user: User): void {\n    const isConfirm = confirm(`Are you sure you want to delete this user (${user.email})?`);\n    if (isConfirm) this.mockService.deleteUser(user);\n  }\n\n\n  isSupportBiometricLogin(): Observable<boolean> {\n    if (window.PublicKeyCredential) {\n      return from(new Promise<boolean>((resolve, reject) => {\n        PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()\n          .then(available => {\n            if (available) {\n              console.log(\"Supported.\");\n              resolve(true);\n            } else {\n              console.log(\"WebAuthn supported, Platform Authenticator *not* supported.\");\n              resolve(false);\n            }\n          })\n          .catch(error => {\n            console.log(\"Something went wrong.\");\n            resolve(false);\n          })\n      }));\n    } else {\n      console.log(\"Not supported.\");\n      return of(false);\n    }\n  }\n\n  signup(): void {\n    const user: User = {\n      mobileNumber: this.mobileNumber.value,\n      email: this.email.value,\n      credentials: [],\n      deviceId: this.deviceId,\n    };\n    // Duplicate user create Checking\n    const errorMsgList = this.mockService.validateCreateUser(user);\n    if (errorMsgList.length > 0) {\n      alert(errorMsgList.toString());\n      return;\n    }\n    const userFromDB = this.mockService.createUser(user);\n    this.userList = this.mockService.getAllUser();\n    alert(\"Your Account Has been Created.\");\n    const isEnableBiometricLogin = this.isEnableBiometricLogin.value;\n    if (isEnableBiometricLogin) {\n      alert(\"Enable biometric login...\");\n      this.webAuthnSignup(userFromDB);\n    }\n  }\n\n  private webAuthnSignup(user: User): void {\n    // Ask for WebAuthn Auth method\n    this.webAuthnMockService.signup(user)\n      .then((credential: any) => {\n        console.log(\"---------Credentials Create response---------\");\n        console.log(JSON.stringify(credential));\n        // Call server to validate and save credential\n        // Hardcoded on frontend\n        console.log(\"---------Public key Resonse----------\");\n        console.log(credential);\n        console.log(\"---------Public key Resonse(URLBase64)----------\");\n        const urlbase64 = this.mockService.decodePublicKeyCredentialToBase64String(credential);\n        console.log(JSON.stringify(urlbase64));\n        console.log(\"---------Public key Resonse(decoded)----------\");\n        console.log(JSON.stringify(this.mockService.decodePublicKeyCredential(credential)));\n        const valid = this.mockService.registerCredential(user, credential);\n        if (valid) {\n          alert(\"Registration Successful\");\n        } else {\n          alert(\"Registration Failed\");\n        }\n      })\n      .catch((error) => {\n        this.errorMsg = error;\n        console.log(\"Credentials Create Error: \", error);\n      });\n  }\n\n  signin(user?: User) {\n    let userFromDB: any = { credentials: [] };\n    if (user) {\n      userFromDB = this.mockService.getUserByMobileNumber(user.mobileNumber);\n    } else {\n      userFromDB = this.mockService.getUserByDeviceId(this.deviceId);\n    };\n\n    console.log(\"----------Saved User:----------\");\n    console.log(JSON.stringify(userFromDB));\n    console.log(userFromDB);\n    this.webAuthnMockService.signin(userFromDB)\n      .then((assertion: any) => {\n        alert(\"Authentication Successful\");\n        console.log(\"----------Assertion response----------\");\n        console.log(assertion);\n\n        console.log(\"---------Public key Resonse(URLBase64)----------\");\n        const urlbase64 = this.mockService.decodePublicKeyCredentialToBase64String(assertion);\n        console.log(JSON.stringify(urlbase64));\n\n        // Mock payload\n        const obj = {\n          id: assertion.id,\n          type: assertion.type,\n          response: {\n            authenticatorData: null,\n            clientDataJSON: null,\n            signature: null,\n            userHandle: null,\n          },\n          rawId: null\n        };\n        obj.response.authenticatorData = new Uint8Array(assertion.response.authenticatorData);\n        obj.response.clientDataJSON = new Uint8Array(assertion.response.clientDataJSON);\n        obj.response.signature = new Uint8Array(assertion.response.signature);\n        obj.response.userHandle = new Uint8Array(assertion.response.userHandle);\n        obj.rawId = new Uint8Array(assertion.rawId);\n        console.log(JSON.stringify(obj));\n        this.mockService.decodeAssertion(assertion);\n        // TODO: Call server to validate assertion\n        // When server return ok,login successful else login failed\n      })\n      .catch((error) => {\n        alert(\"Authentication Failed\");\n        this.errorMsg = error;\n        console.log(\"Authentication Failed: \", error);\n      });\n  }\n}","<div class=\"register-form-container\">\n    <h2>\n       Mock Register\n    </h2>\n    <form [formGroup]=\"userForm\">\n        <div class=\"form-field\">\n            <label class=\"form-label\">\n                <h4>Email  \n                    <span [ngClass]=\"'red'\">\n                    *\n                    </span>\n                </h4>\n            </label>\n            <input name=\"email\" formControlName=\"email\" />\n            <div>\n                <label *ngIf=\"email.value && email.invalid\" [ngClass]=\"'red'\"> The Email format is invalid. </label>\n            </div>\n        </div>\n        <div class=\"form-field\">\n            <label class=\"form-label\">\n                <h4>Mobile\n                    <span [ngClass]=\"'red'\">\n                    *\n                    </span>\n                </h4>\n            </label>\n            <input name=\"mobileNumber\" formControlName=\"mobileNumber\" maxlength=\"8\"/>\n            <div>\n                <label *ngIf=\"mobileNumber.value && mobileNumber.invalid\" [ngClass]=\"'red'\">The mobile number is invalid.</label>\n            </div>\n        </div>\n        <div class=\"form-field checkbox\">\n            <input type=\"checkbox\" name=\"isEnableBiometricLogin\" formControlName=\"isEnableBiometricLogin\" />\n            <h4>\n                Enable Biometric Login(TouchID/FaceID)\n            </h4>\n        </div>\n        <div>\n            <button class=\"btn\" (click)=\"signup()\"[disabled]=\"userForm.invalid\">Register</button>\n        </div>\n        <div *ngIf=\"isSupportBiometricLogin$ | async\">\n            <button class=\"btn\">Is Support Biometic Button</button>\n        </div>\n    </form>\n    <ng-container *ngIf=\"errorMsg\">\n        <p class=\"red errorMsg\">\n            Error: {{errorMsg}}\n        </p>\n    </ng-container>\n    <div class=\"line\"></div>\n</div>\n<div class=\"user-list-container\">\n    <h2>User List</h2>\n    <div class=\"line\"></div>\n    <ng-template #biometricIcon>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-fingerprint\"\n            viewBox=\"0 0 16 16\">\n            <path\n                d=\"M8.06 6.5a.5.5 0 0 1 .5.5v.776a11.5 11.5 0 0 1-.552 3.519l-1.331 4.14a.5.5 0 0 1-.952-.305l1.33-4.141a10.5 10.5 0 0 0 .504-3.213V7a.5.5 0 0 1 .5-.5Z\" />\n            <path\n                d=\"M6.06 7a2 2 0 1 1 4 0 .5.5 0 1 1-1 0 1 1 0 1 0-2 0v.332c0 .409-.022.816-.066 1.221A.5.5 0 0 1 6 8.447c.04-.37.06-.742.06-1.115V7Zm3.509 1a.5.5 0 0 1 .487.513 11.5 11.5 0 0 1-.587 3.339l-1.266 3.8a.5.5 0 0 1-.949-.317l1.267-3.8a10.5 10.5 0 0 0 .535-3.048A.5.5 0 0 1 9.569 8Zm-3.356 2.115a.5.5 0 0 1 .33.626L5.24 14.939a.5.5 0 1 1-.955-.296l1.303-4.199a.5.5 0 0 1 .625-.329Z\" />\n            <path\n                d=\"M4.759 5.833A3.501 3.501 0 0 1 11.559 7a.5.5 0 0 1-1 0 2.5 2.5 0 0 0-4.857-.833.5.5 0 1 1-.943-.334Zm.3 1.67a.5.5 0 0 1 .449.546 10.72 10.72 0 0 1-.4 2.031l-1.222 4.072a.5.5 0 1 1-.958-.287L4.15 9.793a9.72 9.72 0 0 0 .363-1.842.5.5 0 0 1 .546-.449Zm6 .647a.5.5 0 0 1 .5.5c0 1.28-.213 2.552-.632 3.762l-1.09 3.145a.5.5 0 0 1-.944-.327l1.089-3.145c.382-1.105.578-2.266.578-3.435a.5.5 0 0 1 .5-.5Z\" />\n            <path\n                d=\"M3.902 4.222a4.996 4.996 0 0 1 5.202-2.113.5.5 0 0 1-.208.979 3.996 3.996 0 0 0-4.163 1.69.5.5 0 0 1-.831-.556Zm6.72-.955a.5.5 0 0 1 .705-.052A4.99 4.99 0 0 1 13.059 7v1.5a.5.5 0 1 1-1 0V7a3.99 3.99 0 0 0-1.386-3.028.5.5 0 0 1-.051-.705ZM3.68 5.842a.5.5 0 0 1 .422.568c-.029.192-.044.39-.044.59 0 .71-.1 1.417-.298 2.1l-1.14 3.923a.5.5 0 1 1-.96-.279L2.8 8.821A6.531 6.531 0 0 0 3.058 7c0-.25.019-.496.054-.736a.5.5 0 0 1 .568-.422Zm8.882 3.66a.5.5 0 0 1 .456.54c-.084 1-.298 1.986-.64 2.934l-.744 2.068a.5.5 0 0 1-.941-.338l.745-2.07a10.51 10.51 0 0 0 .584-2.678.5.5 0 0 1 .54-.456Z\" />\n            <path\n                d=\"M4.81 1.37A6.5 6.5 0 0 1 14.56 7a.5.5 0 1 1-1 0 5.5 5.5 0 0 0-8.25-4.765.5.5 0 0 1-.5-.865Zm-.89 1.257a.5.5 0 0 1 .04.706A5.478 5.478 0 0 0 2.56 7a.5.5 0 0 1-1 0c0-1.664.626-3.184 1.655-4.333a.5.5 0 0 1 .706-.04ZM1.915 8.02a.5.5 0 0 1 .346.616l-.779 2.767a.5.5 0 1 1-.962-.27l.778-2.767a.5.5 0 0 1 .617-.346Zm12.15.481a.5.5 0 0 1 .49.51c-.03 1.499-.161 3.025-.727 4.533l-.07.187a.5.5 0 0 1-.936-.351l.07-.187c.506-1.35.634-2.74.663-4.202a.5.5 0 0 1 .51-.49Z\" />\n        </svg>\n    </ng-template>\n    <ng-container *ngFor=\"let user of userList;\">\n        <div>\n            <p>\n                Email: {{user?.email}}\n            </p>\n            <p>\n                Mobile: {{user?.mobileNumber}}\n            </p>\n        </div>\n        <div>\n            <button class=\"btn delete-btn\" (click)=\"deleteAccount(user);\">Delete Account</button>\n            <ng-container *ngIf=\"user?.credentials?.length === 0\">\n                <button class=\"btn\" (click)=\"enableBiometricLogin(user);\">Enable Biometric\n                    <ng-container *ngTemplateOutlet=\"biometricIcon;\"></ng-container>\n                </button>\n            </ng-container>\n            <ng-container *ngIf=\"user?.credentials?.length > 0\">\n                <button class=\"btn delete-btn\" (click)=\"enableBiometricLogin(user);\">Disable Biometric\n                    <ng-container *ngTemplateOutlet=\"biometricIcon;\"></ng-container>\n                </button>\n            </ng-container>\n            <ng-container *ngIf=\"user?.credentials?.length > 0\">\n                <button class=\"btn\" (click)=\"signin(user);\">Login with Biometric\n                </button>\n            </ng-container>\n        </div>\n        <div class=\"line\"></div>\n    </ng-container>\n</div>","export const registerPayload: any = {\n    \"rawId\": \"xDMtpbMBPngyDCPiT-qoUl8BUiQ\",\n    \"response\": {\n        \"attestationObject\": \"o2NmbXRlYXBwbGVnYXR0U3RtdKFjeDVjglkCRjCCAkIwggHJoAMCAQICBgF-Qa8okzAKBggqhkjOPQQDAjBIMRwwGgYDVQQDDBNBcHBsZSBXZWJBdXRobiBDQSAxMRMwEQYDVQQKDApBcHBsZSBJbmMuMRMwEQYDVQQIDApDYWxpZm9ybmlhMB4XDTIyMDEwOTAxNTE0NVoXDTIyMDExMjAxNTE0NVowgZExSTBHBgNVBAMMQGZiNGU1ZmI2YTFmYThjYmU1MThkNGY3MzlkNjIyOGZmYTQ0OTE0ZTQ2NzdiNDI3ODc3MjFjM2U0MjlkNzYxZjUxGjAYBgNVBAsMEUFBQSBDZXJ0aWZpY2F0aW9uMRMwEQYDVQQKDApBcHBsZSBJbmMuMRMwEQYDVQQIDApDYWxpZm9ybmlhMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEsvIXWBHLBLPw3rh7xZ9ooLVuyjocq7w1lMU4bFFcUyHvIAgafvV1vNdX9NDBcslxT2gFr-QdKA5CEPD2oHKIA6NVMFMwDAYDVR0TAQH_BAIwADAOBgNVHQ8BAf8EBAMCBPAwMwYJKoZIhvdjZAgCBCYwJKEiBCD0xSGpdDiTGDVySB8oM8gMRUjv2qAx1YCHw8jsYFN4-zAKBggqhkjOPQQDAgNnADBkAjBGizCO2C_3Wno7NeQ0iezkY58b4kedg_S9J4t-napU3V0AfoPvjyQDGyTf6rarLOECMBf1nYZEl6eDHEHEg7G1EMJTaAFCfQd6MoohVxxokMj88eiUrsKW971LaY7CtKOF9VkCODCCAjQwggG6oAMCAQICEFYlU5XHp_tA6-Io2CYIU7YwCgYIKoZIzj0EAwMwSzEfMB0GA1UEAwwWQXBwbGUgV2ViQXV0aG4gUm9vdCBDQTETMBEGA1UECgwKQXBwbGUgSW5jLjETMBEGA1UECAwKQ2FsaWZvcm5pYTAeFw0yMDAzMTgxODM4MDFaFw0zMDAzMTMwMDAwMDBaMEgxHDAaBgNVBAMME0FwcGxlIFdlYkF1dGhuIENBIDExEzARBgNVBAoMCkFwcGxlIEluYy4xEzARBgNVBAgMCkNhbGlmb3JuaWEwdjAQBgcqhkjOPQIBBgUrgQQAIgNiAASDLocvJhSRgQIlufX81rtjeLX1Xz_LBFvHNZk0df1UkETfm_4ZIRdlxpod2gULONRQg0AaQ0-yTREtVsPhz7_LmJH-wGlggb75bLx3yI3dr0alruHdUVta-quTvpwLJpGjZjBkMBIGA1UdEwEB_wQIMAYBAf8CAQAwHwYDVR0jBBgwFoAUJtdk2cV4wlpn0afeaxLQG2PxxtcwHQYDVR0OBBYEFOuugsT_oaxbUdTPJGEFAL5jvXeIMA4GA1UdDwEB_wQEAwIBBjAKBggqhkjOPQQDAwNoADBlAjEA3YsaNIGl-tnbtOdle4QeFEwnt1uHakGGwrFHV1Azcifv5VRFfvZIlQxjLlxIPnDBAjAsimBE3CAfz-Wbw00pMMFIeFHZYO1qdfHrSsq-OM0luJfQyAW-8Mf3iwelccboDgdoYXV0aERhdGFYmGQv8P1c0tEeoxmgZtShAxpeZTBBH1GgI0qVyzfSZnllRQAAAADySo5w0NP4LCk3MlI8xN5aABTEMy2lswE-eDIMI-JP6qhSXwFSJKUBAgMmIAEhWCCy8hdYEcsEs_DeuHvFn2igtW7KOhyrvDWUxThsUVxTISJYIO8gCBp-9XW811f00MFyyXFPaAWv5B0oDkIQ8PagcogD\",\n        \"clientDataJSON\": \"eyJ0eXBlIjoid2ViYXV0aG4uY3JlYXRlIiwiY2hhbGxlbmdlIjoiWTJObVpHRTROVGN0T0RZM09DMDBZV1JsTFdFeVlUY3RZMlEzTTJReFltUmlNVFk0Iiwib3JpZ2luIjoiaHR0cHM6Ly9taDEyMDg4LmdpdGh1Yi5pbyJ9\"\n    },\n    \"getClientExtensionResults\": {},\n    \"id\": \"xDMtpbMBPngyDCPiT-qoUl8BUiQ\",\n    \"type\": \"public-key\"\n}\n\nexport const loginPayload: any = {\n    \"rawId\": \"xDMtpbMBPngyDCPiT-qoUl8BUiQ\",\n    \"response\": {\n        \"authenticatorData\": \"ZC_w_VzS0R6jGaBm1KEDGl5lMEEfUaAjSpXLN9JmeWUFAAAAAA\",\n        \"signature\": \"MEUCIQDZ9_4HoURKbFosiR4AbptFt9LHTMB8hKLt2M-ecLodggIgD5w4yPk17jIlIEIBD5OMCICnVdT9reTaq73jfMyyaZ4\",\n        \"userHandle\": \"MTExMTExMTE\",\n        \"clientDataJSON\": \"eyJ0eXBlIjoid2ViYXV0aG4uZ2V0IiwiY2hhbGxlbmdlIjoiTm1RMU4yRmpZVFl0T1dKbE55MDBaRGt4TFdJd01ESXRNRFExTW1JellXTXpNbUkxIiwib3JpZ2luIjoiaHR0cHM6Ly9taDEyMDg4LmdpdGh1Yi5pbyJ9\"\n    },\n    \"getClientExtensionResults\": {},\n    \"id\": \"xDMtpbMBPngyDCPiT-qoUl8BUiQ\",\n    \"type\": \"public-key\"\n}\n\n\n// export const testingData = { \n//     \"deviceId\": \"b713af70-9575-49f0-8833-be26b1cadb0b\", \n//     \"attestation\": \"o2NmbXRkbm9uZWdhdHRTdG10oGhhdXRoRGF0YVikSZYN5YgOjGh0NBcPZHZgW4_krrmihjLHmVzzuoMdl2NFAAAAAQAAAAAAAAAAAAAAAAAAAAAAIHWLxBd6yM9-3h9REI9J6gX3o_MDEZU_5jM1m2o275iZpQECAyYgASFYICq9eCvRj5HWyi72tOk4LMtXrdqhwoJUgmFOG25GW0ITIlggyQtZ_IhU-TkjaUI4MkIDPKmk_gxFwEVEEkvskoLJWSo\", \n//     \"credentialId\": \"dYvEF3rIz37eH1EQj0nqBfej8wMRlT_mMzWbajbvmJk\", \n//     \"clientDataJSON\": \"eyJ0eXBlIjoid2ViYXV0aG4uY3JlYXRlIiwiY2hhbGxlbmdlIjoiWXpGa05XUTRaR0V0WmpCbFl5MDBaakF6TFRnMFlqUXRaRGc1WlRreFlqZzJZemRoIiwib3JpZ2luIjoiaHR0cDovL2xvY2FsaG9zdDo0MjAwIiwiY3Jvc3NPcmlnaW4iOmZhbHNlfQ\" \n// };","import { identifierModuleUrl, ThrowStmt } from '@angular/compiler';\nimport { Component, OnInit, setComponentScope } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { from, observable, Observable, of, pipe } from 'rxjs';\nimport { catchError, map, subscribeOn, switchMap, take, tap } from 'rxjs/operators';\nimport { User } from 'src/app/models/web-authn.model';\nimport { MockService } from 'src/app/services/mock.service';\nimport { WebAuthnService } from 'src/app/services/web-authn-service';\nimport { WebAuthnAPIService } from 'src/app/services/web-authn-api.service'\n\n@Component({\n  selector: 'app-web-authn',\n  templateUrl: './web-authn.component.html',\n  styleUrls: ['./web-authn.component.scss']\n})\nexport class WebAuthnComponent implements OnInit {\n  errorMsg: string = \"\";\n  userList: User[] = [];\n  userForm = new FormGroup({\n    email: new FormControl(\"\", [Validators.required, Validators.email]),\n    mobileNumber: new FormControl(\"\", [Validators.required, Validators.pattern(\"^[0-9]{8}$\")]),\n    isEnableBiometricLogin: new FormControl(),\n  });\n  deviceId: string;\n  savedCredentialId: Uint8Array;\n\n  flag$: Observable<boolean>;\n  authenticator: any = {};\n  constructor(\n    private mockService: MockService,\n    private webAuthnService: WebAuthnService,\n    private webAuthnAPIService: WebAuthnAPIService,\n  ) { }\n\n  ngOnInit(): void {\n    this.userList = this.mockService.getAllUser();\n    this.deviceId = localStorage.getItem(\"device_id\") || \"\";\n  }\n\n  get email(): any {\n    return this.userForm.get('email');\n  }\n\n  get mobileNumber(): any {\n    return this.userForm.get('mobileNumber');\n  }\n\n  get isEnableBiometricLogin(): any {\n    return this.userForm.get('isEnableBiometricLogin')\n  }\n\n  signup(): void {\n    const user: User = {\n      mobileNumber: this.userForm.get('mobileNumber').value,\n      email: this.userForm.get('email').value,\n      credentials: [],\n      deviceId: this.deviceId,\n    };\n    const errorMsgList = this.mockService.validateCreateUser(user);\n    if (errorMsgList.length > 0) {\n      alert(errorMsgList.toString());\n      return;\n    }\n    const userFromDB = this.mockService.createUser(user);\n    this.userList = this.mockService.getAllUser();\n    alert(\"Your Account Has been Created.\");\n    const isEnableBiometricLogin = this.userForm.get('isEnableBiometricLogin').value;\n    if (isEnableBiometricLogin) {\n      alert(\"Enable biometric login...\");\n      this.webAuthnService.signupFlow(userFromDB).subscribe(response => {\n        console.log(response);\n        userFromDB.credentials = [{ credentialIdString: response.credentialIdString }]\n        userFromDB.authenticatorString = response.authenticatorString;\n        this.mockService.updateUser(userFromDB);\n        alert(\"Registration Successful\");\n      })\n    }\n  }\n\n  enableBiometricLogin(user: User): void {\n    if (user.credentials.length === 0) {\n      const isConfirm = confirm(\"Are you sure you want to enable biometric login?\");\n      if (isConfirm) this.webAuthnService.signupFlow(user);\n    } else {\n      const isConfirm = confirm(\"Are you sure you want to disable biometric login?\");\n      if (isConfirm) {\n        user.credentials = [];\n        this.mockService.updateUser(user);\n      }\n    }\n  }\n\n  deleteAccount(user: User): void {\n    const isConfirm = confirm(`Are you sure you want to delete this user (${user.email})?`);\n    if (isConfirm) this.mockService.deleteUser(user);\n  }\n\n  signin(user?: User) {\n    let userFromDB: any = { credentials: [] };\n    if (user) {\n      userFromDB = this.mockService.getUserByMobileNumber(user.mobileNumber);\n    } else {\n      userFromDB = this.mockService.getUserByDeviceId(this.deviceId);\n    };\n    console.log(\"----------Saved User:----------\");\n    console.log(JSON.stringify(userFromDB));\n    this.webAuthnService.signinFlow(userFromDB).subscribe(response => {\n      if(response == 'success') {\n        alert(\"Login Successful\");\n      }\n      console.log(response);\n    })\n  }\n\n\n  // webAuthnRegister() {\n  //   this.testService.webAuthnRegister().subscribe(\n  //     response => {\n  //       console.log(response);\n  //       this.authenticator = response;\n  //     },\n  //     error => {\n  //       console.log(error);\n  //     });\n  // }\n\n  // webAuthnLogin() {\n  //   this.testService.webAuthnLogin(this.authenticator).subscribe(\n  //     response => {\n  //       console.log(response)\n  //     },\n  //     error => {\n  //       console.log(error);\n  //     });\n  // }\n\n  // signupFlow() {\n  //   // 1. Get challenge\n  //   // 2. Call webauthn lib to register new public key\n  //   // 3. Pass credential to server to validate and save\n  //   const user = { mobileNumber: \"11111111\", email: \"tommy@gmail.com\" };\n  //   this.mockV2Service.getChallenge().pipe(\n  //     switchMap(challenge => {\n  //       console.log(challenge);\n  //       return from(new Promise((resolve, reject) => {\n  //         this.mockV2Service.webAuthnSignup(user, challenge)\n  //           .then((credential: any) => {\n  //             const credentialBase64Url = this.mockV2Service.publicKeyCredentialToBase64Url(credential);\n  //             this.savedCredentialId = this.mockV2Service.registerCredential(credential);\n  //             resolve(credentialBase64Url)\n  //           })\n  //           .catch(error => reject(error))\n  //       }))\n  //     }),\n  //     switchMap(credentialBase64Url => {\n  //       return this.mockV2Service.signup(credentialBase64Url);\n  //     }),\n  //     catchError(error => of(`Error: ${error}`))\n  //   ).subscribe(data => {\n  //     console.log(data);\n  //   });\n  // }\n\n  // signupFlowV2() {\n  //   const user = { mobileNumber: \"11111111\", email: \"tommy@gmail.com\" };\n  //   this.mockV2Service.signupFlow(user).subscribe(data => { console.log(data) });\n  // }\n\n\n  // signinFlowV2() {\n  //   const user = { mobileNumber: \"11111111\", email: \"tommy@gmail.com\", credentials: [{ credentialId: this.savedCredentialId }] };\n  //   this.mockV2Service.signinFlow(user).subscribe(data => { console.log(data) });\n  // }\n\n\n  // signinFlow() {\n  //   // 1. Get challenge and credential Id\n  //   // 2. Call webauthn lib to validate credential Id and assertion\n  //   // 3. Pass assertion to server to validate and login\n  //   const user = { mobileNumber: \"11111111\", email: \"tommy@gmail.com\", credentials: [{ credentialId: this.savedCredentialId }] };\n  //   if (this.savedCredentialId) {\n  //     this.mockV2Service.getChallenge().pipe(\n  //       switchMap(challenge => {\n  //         return from(new Promise((resolve, reject) => {\n  //           this.mockV2Service.webAuthnSignin(user, challenge)\n  //             .then(assertion => {\n  //               const credentialBase64Url = this.mockV2Service.publicKeyCredentialToBase64Url(assertion);\n  //               resolve(credentialBase64Url);\n  //             })\n  //             .catch(error => reject(error))\n  //         }))\n  //       }),\n  //       switchMap(credentialBase64Url => {\n  //         return this.mockV2Service.signin(credentialBase64Url);\n  //       }),\n  //       catchError(error => of(`Error: ${error}`))\n  //     ).subscribe(resp => {\n  //       console.log(resp);\n  //     });\n  //   }\n  // }\n\n  isSupportBiometricLogin(): Observable<boolean> {\n    if (window.PublicKeyCredential) {\n      return from(new Promise<boolean>((resolve, reject) => {\n        PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()\n          .then(available => {\n            if (available) {\n              // console.log(\"Supported.\");\n              resolve(true);\n            } else {\n              // console.log(\"WebAuthn supported, Platform Authenticator *not* supported.\");\n              resolve(false);\n            }\n          })\n          .catch(error => {\n            // console.log(\"Something went wrong.\");\n            resolve(false);\n          })\n      }));\n    } else {\n      // console.log(\"Not supported.\");\n      return of(false);\n    }\n  }\n}","<!-- <button class=\"btn\" (click)=\"webAuthnRegister();\">WebAuthnRegister(test)</button> -->\n<!-- <button class=\"btn\" (click)=\"webAuthnLogin();\">WebAuthnLogin(test)</button> -->\n<!-- <button class=\"btn\" (click)=\"signupFlowV2();\">Register(mock)</button> -->\n<!-- <button class=\"btn\" (click)=\"signinFlow();\">Login(mock)</button> -->\n<div class=\"register-form-container\">\n    <h2>\n        Register\n    </h2>\n    <form [formGroup]=\"userForm\">\n        <div class=\"form-field\">\n            <label class=\"form-label\">\n                <h4>Email  \n                    <span [ngClass]=\"'red'\">\n                    *\n                    </span>\n                </h4>\n            </label>\n            <input name=\"email\" formControlName=\"email\" />\n            <div>\n                <label *ngIf=\"email.value && email.invalid\" [ngClass]=\"'red'\"> The Email format is invalid. </label>\n            </div>\n        </div>\n        <div class=\"form-field\">\n            <label class=\"form-label\">\n                <h4>Mobile\n                    <span [ngClass]=\"'red'\">\n                    *\n                    </span>\n                </h4>\n            </label>\n            <input name=\"mobileNumber\" formControlName=\"mobileNumber\" maxlength=\"8\"/>\n            <div>\n                <label *ngIf=\"mobileNumber.value && mobileNumber.invalid\" [ngClass]=\"'red'\">The mobile number is invalid.</label>\n            </div>\n        </div>\n        <div class=\"form-field checkbox\">\n            <input type=\"checkbox\" name=\"isEnableBiometricLogin\" formControlName=\"isEnableBiometricLogin\" />\n            <h4>\n                Enable Biometric Login(TouchID/FaceID)\n            </h4>\n        </div>\n        <div>\n            <button class=\"btn\" (click)=\"signup()\"[disabled]=\"userForm.invalid\">Register</button>\n        </div>\n    </form>\n    <ng-container *ngIf=\"errorMsg\">\n        <p class=\"red errorMsg\">\n            Error: {{errorMsg}}\n        </p>\n    </ng-container>\n    <div class=\"line\"></div>\n</div>\n<div class=\"user-list-container\">\n    <h2>User List</h2>\n    <div class=\"line\"></div>\n    <ng-template #biometricIcon>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-fingerprint\"\n            viewBox=\"0 0 16 16\">\n            <path\n                d=\"M8.06 6.5a.5.5 0 0 1 .5.5v.776a11.5 11.5 0 0 1-.552 3.519l-1.331 4.14a.5.5 0 0 1-.952-.305l1.33-4.141a10.5 10.5 0 0 0 .504-3.213V7a.5.5 0 0 1 .5-.5Z\" />\n            <path\n                d=\"M6.06 7a2 2 0 1 1 4 0 .5.5 0 1 1-1 0 1 1 0 1 0-2 0v.332c0 .409-.022.816-.066 1.221A.5.5 0 0 1 6 8.447c.04-.37.06-.742.06-1.115V7Zm3.509 1a.5.5 0 0 1 .487.513 11.5 11.5 0 0 1-.587 3.339l-1.266 3.8a.5.5 0 0 1-.949-.317l1.267-3.8a10.5 10.5 0 0 0 .535-3.048A.5.5 0 0 1 9.569 8Zm-3.356 2.115a.5.5 0 0 1 .33.626L5.24 14.939a.5.5 0 1 1-.955-.296l1.303-4.199a.5.5 0 0 1 .625-.329Z\" />\n            <path\n                d=\"M4.759 5.833A3.501 3.501 0 0 1 11.559 7a.5.5 0 0 1-1 0 2.5 2.5 0 0 0-4.857-.833.5.5 0 1 1-.943-.334Zm.3 1.67a.5.5 0 0 1 .449.546 10.72 10.72 0 0 1-.4 2.031l-1.222 4.072a.5.5 0 1 1-.958-.287L4.15 9.793a9.72 9.72 0 0 0 .363-1.842.5.5 0 0 1 .546-.449Zm6 .647a.5.5 0 0 1 .5.5c0 1.28-.213 2.552-.632 3.762l-1.09 3.145a.5.5 0 0 1-.944-.327l1.089-3.145c.382-1.105.578-2.266.578-3.435a.5.5 0 0 1 .5-.5Z\" />\n            <path\n                d=\"M3.902 4.222a4.996 4.996 0 0 1 5.202-2.113.5.5 0 0 1-.208.979 3.996 3.996 0 0 0-4.163 1.69.5.5 0 0 1-.831-.556Zm6.72-.955a.5.5 0 0 1 .705-.052A4.99 4.99 0 0 1 13.059 7v1.5a.5.5 0 1 1-1 0V7a3.99 3.99 0 0 0-1.386-3.028.5.5 0 0 1-.051-.705ZM3.68 5.842a.5.5 0 0 1 .422.568c-.029.192-.044.39-.044.59 0 .71-.1 1.417-.298 2.1l-1.14 3.923a.5.5 0 1 1-.96-.279L2.8 8.821A6.531 6.531 0 0 0 3.058 7c0-.25.019-.496.054-.736a.5.5 0 0 1 .568-.422Zm8.882 3.66a.5.5 0 0 1 .456.54c-.084 1-.298 1.986-.64 2.934l-.744 2.068a.5.5 0 0 1-.941-.338l.745-2.07a10.51 10.51 0 0 0 .584-2.678.5.5 0 0 1 .54-.456Z\" />\n            <path\n                d=\"M4.81 1.37A6.5 6.5 0 0 1 14.56 7a.5.5 0 1 1-1 0 5.5 5.5 0 0 0-8.25-4.765.5.5 0 0 1-.5-.865Zm-.89 1.257a.5.5 0 0 1 .04.706A5.478 5.478 0 0 0 2.56 7a.5.5 0 0 1-1 0c0-1.664.626-3.184 1.655-4.333a.5.5 0 0 1 .706-.04ZM1.915 8.02a.5.5 0 0 1 .346.616l-.779 2.767a.5.5 0 1 1-.962-.27l.778-2.767a.5.5 0 0 1 .617-.346Zm12.15.481a.5.5 0 0 1 .49.51c-.03 1.499-.161 3.025-.727 4.533l-.07.187a.5.5 0 0 1-.936-.351l.07-.187c.506-1.35.634-2.74.663-4.202a.5.5 0 0 1 .51-.49Z\" />\n        </svg>\n    </ng-template>\n    <ng-container *ngFor=\"let user of userList;\">\n        <div>\n            <p>\n                Email: {{user?.email}}\n            </p>\n            <p>\n                Mobile: {{user?.mobileNumber}}\n            </p>\n        </div>\n        <div>\n            <button class=\"btn delete-btn\" (click)=\"deleteAccount(user);\">Delete Account</button>\n            <ng-container *ngIf=\"user?.credentials?.length === 0\">\n                <button class=\"btn\" (click)=\"enableBiometricLogin(user);\">Enable Biometric\n                    <ng-container *ngTemplateOutlet=\"biometricIcon;\"></ng-container>\n                </button>\n            </ng-container>\n            <ng-container *ngIf=\"user?.credentials?.length > 0\">\n                <button class=\"btn delete-btn\" (click)=\"enableBiometricLogin(user);\">Disable Biometric\n                    <ng-container *ngTemplateOutlet=\"biometricIcon;\"></ng-container>\n                </button>\n            </ng-container>\n            <ng-container *ngIf=\"user?.credentials?.length > 0\">\n                <button class=\"btn\" (click)=\"signin(user);\">Login with Biometric\n                </button>\n            </ng-container>\n        </div>\n        <div class=\"line\"></div>\n    </ng-container>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Observable, of } from 'rxjs';\nimport { FireBaseService } from './service/firebase.service';\n\n@Component({\n  selector: 'app-push-notification',\n  templateUrl: './push-notification.component.html',\n  styleUrls: ['./push-notification.component.scss']\n})\nexport class PushNotificationComponent implements OnInit {\n\n  constructor() { }\n  ngOnInit(): void {\n  }\n\n  requestPermission() {\n    if ('PushManager' in window) {\n      Notification.requestPermission(function (status) {\n        console.log('Notification permission status:', status);\n      });\n      console.log('Push messaging is supported');\n    } else {\n      console.error('Push messaging is not supported');\n    }\n  }\n\n}\n","<div class=\"push-notification-container\">\n  <button class=\"btn\" (click)=\"requestPermission()\">Show Notifications</button>\n</div>","import { HttpClient } from '@angular/common/http';\nimport { Component, HostListener, OnInit } from '@angular/core';\nimport { GoogleAnalyticsService } from './service/google-analytics-service';\n\n@Component({\n  selector: 'app-pwa-install-promotion',\n  templateUrl: './pwa-install-promotion.component.html',\n  styleUrls: ['./pwa-install-promotion.component.scss']\n})\nexport class PwaInstallPromotionComponent implements OnInit {\n  deferredPrompt: any;\n  showPromotion: boolean = false;\n  showIOSPromotion: boolean = true;\n  device: string = \"\";\n  installStatus: string = \"\";\n\n  products = [];\n  constructor(private http: HttpClient, private _$gaService: GoogleAnalyticsService) { }\n\n  getTestingData() {\n    const url = `https://mh12088.github.io/tommy.lai.github.io/assets/data.json`;\n    return this.http.get<any>(url);\n  };\n\n  event() {\n    // event name, event category, event label, event value.\n    this._$gaService.logEvent('pwa_call_api', 'ddd', 'eee','fff');\n  }\n\n\n  ngOnInit(): void {\n    this.detectDevice();\n    const displayMode = this.getPWADisplayMode();\n    console.log(displayMode);\n    if (displayMode === \"standalone\") {\n      this.installStatus = \"Installed\";\n    } else {\n      this.installStatus = \"Not installed\";\n    }\n    this.getTestingData().subscribe((data: any) => {\n      this.products = data;\n      console.log(data);\n    });\n  }\n\n  detectDevice() {\n    // Detects device type.\n    let device: string = \"\";\n    const userAgent = window.navigator.userAgent.toLowerCase();\n    if (userAgent.match(/iphone|ipad|ipod/i)) {\n      device = \"ios\";\n    } else if (userAgent.match(/Android/i)) {\n      device = \"android\";\n    } else {\n      device = \"other\";\n    }\n    this.device = device;\n  }\n\n  getPWADisplayMode() {\n    // use this to check if the user is already using your PWA - no need to prompt if in standalone\n    const isStandalone = window.matchMedia('(display-mode: standalone)').matches;\n    if (document.referrer.startsWith('android-app://')) {\n      return 'twa';\n    } else if ((window?.navigator as any)?.standalone || isStandalone) {\n      return 'standalone';\n    }\n    return 'browser';\n  }\n\n  hideIOSInstallPromotion() {\n    this.showIOSPromotion = false;\n  }\n\n  // There function and  \"Beforeinstallprompt\" event is only support android\n  showInstallPromotion() {\n    this.showPromotion = true;\n  }\n\n  hideInstallPromotion() {\n    this.showPromotion = false;\n  }\n\n  @HostListener('window:beforeinstallprompt', ['$event'])\n  onbeforeinstallprompt(e) {\n    // Prevent the mini-infobar from appearing on mobile\n    e.preventDefault();\n    // Stash the event so it can be triggered later.\n    this.deferredPrompt = e;\n    // Update UI notify the user they can install the PWA\n    this.showInstallPromotion();\n    // Optionally, send analytics event that PWA install promo was shown.\n    console.log(`'beforeinstallprompt' event was fired.`);\n  }\n\n  addToHomeScreen() {\n    // Hide the app provided install promotion\n    this.hideInstallPromotion();\n    // Show the install prompt\n    this.deferredPrompt.prompt();\n    // Wait for the user to respond to the prompt\n    this.deferredPrompt.userChoice\n      .then((choiceResult) => {\n        if (choiceResult.outcome === 'accepted') {\n          console.log('User accepted the A2HS prompt');\n        } else {\n          console.log('User dismissed the A2HS prompt');\n          this.hideInstallPromotion();\n        }\n        this.deferredPrompt = null;\n      });\n  }\n}\n","<h3>\n    Device:\n    {{ device}}\n</h3>\n<h3>\n    Status:\n    {{installStatus}}\n</h3>\n<a href=\"http://example.com/\" target=\"_blank\" class=\"app-logo\" (click)=\"event();\">test event</a>\n<ng-container *ngIf=\"installStatus !== 'Installed'\">\n    <ng-container [ngSwitch]=\"device\">\n        <ng-container *ngSwitchCase=\"'android'\">\n            <div class=\"pwa-install-promotion-container android\" *ngIf=\"showPromotion\">\n                <p class=\"title\">Install web app</p>\n                <div class=\"buttons\">\n                    <button (click)=\"addToHomeScreen()\" class=\"btn\">Install</button>\n                    <span class=\"close-btn\" (click)=\"hideInstallPromotion();\">Not now</span>\n                </div>\n            </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"'ios'\">\n            <div class=\"pwa-install-promotion-container ios\" *ngIf=\"showIOSPromotion\">\n                <span class=\"close-btn\" (click)=\"hideIOSInstallPromotion();\">X</span>\n                <p class=\"desc\">Install this webapp on your desktop: tap\n                    <br><img\n                        src=\"https://user-images.githubusercontent.com/24765669/66438400-d71d6800-ea2c-11e9-9de3-f9096c793f1b.png\"\n                        width=\"20\" height=\"20\" /> and then Add to homescreen\n                </p>\n                <div class=\"arrow-box\">\n                    &nbsp;\n                </div>\n            </div>\n        </ng-container>\n    </ng-container>\n</ng-container>","import { Injectable } from '@angular/core';\nimport { Router, RouterEvent, NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\ndeclare var gtag: any;\n@Injectable({\n    providedIn: 'root'\n})\nexport class GoogleAnalyticsService {\n\n    constructor(private _router: Router) {\n        this._router.events.pipe(\n            filter(event => event instanceof NavigationEnd)\n        ).subscribe((e: NavigationEnd) => {\n            gtag('js', new Date());\n            gtag('config', 'G-TFJ9H2W5Q3');\n            // gtag('get', 'G-TFJ9H2W5Q3', 'client_id', (clientID) => {\n            //     console.log(\"test: \", clientID);\n            // });\n        });\n    }\n\n    init() {\n        // Global site tag (gtag.js) - Google Analytics\n        const script = document.createElement('script');\n        script.src = 'https://www.googletagmanager.com/gtag/js?id=G-TFJ9H2W5Q3';\n        script.async = true;\n        document.getElementsByTagName('head')[0].appendChild(script);\n        const gtagEl = document.createElement('script');\n        const gtagBody = document.createTextNode(`\n        window.dataLayer = window.dataLayer || [];\n        function gtag() { dataLayer.push(arguments); }\n        `);\n        gtagEl.appendChild(gtagBody);\n        document.body.appendChild(gtagEl);\n    }\n\n    logEvent(event, category, label, value) {\n        gtag('event', event, {\n            event_category: category,\n            event_label: label,\n            value: value\n        });\n        console.log('gtag event captured...');\n    }\n}","import { Injectable } from '@angular/core';\nimport { User, ClientDataObj, DecodedAttestionObj, DecodedPublicKeyCredential } from '../models/web-authn.model';\nimport * as CBOR from '../utils/cbor';\nimport * as base64js from '../utils/base64';\nimport * as uuid from 'uuid';\n@Injectable({\n    providedIn: 'root'\n})\nexport class MockService {\n    userList: User[] = localStorage.getItem(\"user_list\") ? JSON.parse(localStorage.getItem(\"user_list\")) : [];\n\n    constructor() { }\n\n    getUserByDeviceId(deviceId: string) {\n        return this.userList.find(user => user.deviceId === deviceId);\n    }\n\n    genUUID() {\n        return uuid.v4();\n    }\n\n    // Should generate from server\n    getChallenge() {\n        const challenge = new Uint8Array(32);\n        return window.crypto.getRandomValues(challenge);\n    }\n\n    getAllUser() {\n        return this.userList;\n    }\n\n    validateCreateUser(user: User) {\n        const errorMsgList: string[] = [];\n        if (this.getUserByEmail(user.email)) {\n            errorMsgList.push(\"Email is already registered\");\n        }\n        if (this.getUserByMobileNumber(user.mobileNumber)) {\n            errorMsgList.push(\"Mobile Number is already registered\");\n        }\n        return errorMsgList;\n    }\n\n    saveChanges() {\n        localStorage.setItem(\"user_list\", JSON.stringify(this.userList));\n    }\n\n    createUser(user: User) {\n        this.userList.push(user);\n        this.saveChanges();\n        return this.getUserByMobileNumber(user.mobileNumber);\n    }\n\n    deleteUser(user: User) {\n        this.userList.splice(this.getUserIndex(user), 1);\n        this.saveChanges();\n    }\n\n    resetUser() {\n        this.userList = [];\n        this.saveChanges();\n    }\n\n    getUserIndex(user: User) {\n        return this.userList.findIndex(item => item.mobileNumber === user.mobileNumber);\n    }\n\n    getUserByMobileNumber(mobileNumber: string) {\n        return this.userList.find(user => user.mobileNumber === mobileNumber);\n    }\n\n    getUserByEmail(email: string) {\n        return this.userList.find(user => user.email === email);\n    }\n\n\n    updateUser(user: User) {\n        const userIndex = this.getUserIndex(user);\n        this.userList[userIndex] = user;\n        this.saveChanges();\n        return this.userList[userIndex];\n    }\n\n    base64urlEncode(arraybuffer) {\n        let chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n        // Use a lookup table to find the index.\n        let lookup = new Uint8Array(256);\n        for (let i = 0; i < chars.length; i++) {\n            lookup[chars.charCodeAt(i)] = i;\n        }\n        let bytes = new Uint8Array(arraybuffer),\n            i, len = bytes.length, base64 = \"\";\n\n        for (i = 0; i < len; i += 3) {\n            base64 += chars[bytes[i] >> 2];\n            base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n            base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n            base64 += chars[bytes[i + 2] & 63];\n        }\n\n        if ((len % 3) === 2) {\n            base64 = base64.substring(0, base64.length - 1);\n        } else if (len % 3 === 1) {\n            base64 = base64.substring(0, base64.length - 2);\n        }\n\n        return base64;\n    }\n\n    base64urlDecode(base64) {\n        let chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n        // Use a lookup table to find the index.\n        var lookup = new Uint8Array(256);\n        for (let i = 0; i < chars.length; i++) {\n            lookup[chars.charCodeAt(i)] = i;\n        }\n        let bufferLength = base64.length * 0.75,\n            len = base64.length, i, p = 0,\n            encoded1, encoded2, encoded3, encoded4;\n\n        let arraybuffer = new ArrayBuffer(bufferLength),\n            bytes = new Uint8Array(arraybuffer);\n\n        for (i = 0; i < len; i += 4) {\n            encoded1 = lookup[base64.charCodeAt(i)];\n            encoded2 = lookup[base64.charCodeAt(i + 1)];\n            encoded3 = lookup[base64.charCodeAt(i + 2)];\n            encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n        }\n\n        return arraybuffer;\n    };\n\n    decodePublicKeyCredentialToBase64String(pubKeyCred) {\n        if (pubKeyCred instanceof ArrayBuffer) {\n            return this.base64urlEncode(pubKeyCred);\n        } else if (pubKeyCred instanceof Array) {\n            return pubKeyCred.map(this.decodePublicKeyCredentialToBase64String);\n        } else if (pubKeyCred instanceof Object) {\n            const obj = {};\n            for (let key in pubKeyCred) {\n                obj[key] = this.decodePublicKeyCredentialToBase64String(pubKeyCred[key]);\n            }\n            return obj;\n        } else return pubKeyCred;\n    }\n\n    decodePublicKeyCredential(credential: PublicKeyCredential) {\n        const obj = {};\n        for (let key in credential) {\n            switch (key) {\n                case \"id\":\n                case \"type\":\n                    obj[key] = credential[key];\n                    break;\n                case \"rawId\":\n                    obj[key] = this.arrayBufferToBase64(credential[key])\n                    break;\n                case \"response\":\n                    const utf8Decoder = new TextDecoder('utf-8');\n                    const decodedClientData = utf8Decoder.decode(credential.response.clientDataJSON);\n                    const clientDataObj: ClientDataObj = JSON.parse(decodedClientData);\n                    const decodedAttestationObj: DecodedAttestionObj = CBOR.decode((credential.response as any).attestationObject);\n                    obj[key] = {};\n                    obj[key][\"clientDataJSON\"] = clientDataObj;\n                    obj[key][\"attestationObject\"] = decodedAttestationObj;\n                    break;\n                default:\n                    break;\n            }\n        }\n        return obj;\n    }\n\n    // Validate and Store credential\n    registerCredential(user: User, credential: PublicKeyCredential): boolean {\n        const authData = this.extractAuthData(credential);\n        const credentialIdLength = this.getCredentialIdLength(authData);\n        const credentialId: Uint8Array = authData.slice(55, 55 + credentialIdLength);\n        const publicKeyBytes: Uint8Array = authData.slice(55 + credentialIdLength);\n        // const publicKeyObject = CBOR.decode(publicKeyBytes.buffer);\n        const valid = true;\n        if (valid) {\n            // Save publicKeyBytes and credentialId\n            user.credentials.push({ credentialIdString: this.arrayBufferToBase64(credentialId), publicKeyString: this.arrayBufferToBase64(publicKeyBytes)});\n            this.updateUser(user);\n        }\n        return valid;\n    }\n\n    extractAuthData(credential: PublicKeyCredential): Uint8Array {\n        const decodedAttestationObj: DecodedAttestionObj = CBOR.decode((credential.response as any).attestationObject);\n        const { authData } = decodedAttestationObj;\n        return authData;\n    }\n\n    getCredentialIdLength(authData: Uint8Array): number {\n        // get the length of the credential ID\n        const dataView = new DataView(new ArrayBuffer(2));\n        const idLenBytes = authData.slice(53, 55);\n        idLenBytes.forEach((value, index) => dataView.setUint8(index, value));\n        return dataView.getUint16(0);\n    }\n\n    arrayBufferToStr(buf) {\n        let decoder = new TextDecoder(\"utf-8\");\n        return decoder.decode(buf);\n    }\n\n    decodeAssertion(assertion) {\n        let clientDataStr = this.arrayBufferToStr(assertion.response.clientDataJSON);\n        let clientDataObj: ClientDataObj = JSON.parse(clientDataStr);\n        console.log(\"----------Sign in clientDataObj----------\")\n        console.log(JSON.stringify(clientDataObj));\n        const userHandle = assertion.response.userHandle && this.arrayBufferToStr(assertion.response.userHandle);\n        console.log(\"----------User Handle----------\")\n        console.log(userHandle);\n    }\n\n    arrayBufferToBase64(buffer) {\n        var binary = '';\n        var bytes = new Uint8Array(buffer);\n        var len = bytes.byteLength;\n        for (var i = 0; i < len; i++) {\n            binary += String.fromCharCode(bytes[i]);\n        }\n        return window.btoa(binary);\n    }\n    base64ToArrayBuffer(base64) {\n        let binary_string = window.atob(base64);\n        let len = binary_string.length;\n        let bytes = new Uint8Array(len);\n        for (let i = 0; i < len; i++) {\n            bytes[i] = binary_string.charCodeAt(i);\n        }\n        return bytes.buffer;\n    }\n\n    bufferEncode(value) {\n        return btoa(String.fromCharCode.apply(null, new Uint8Array(value)))\n            .replace(/\\+/g, \"-\")\n            .replace(/\\//g, \"_\")\n            .replace(/=/g, \"\");\n    }\n\n    bufferDecode(value) {\n        return Uint8Array.from(atob(value), c => c.charCodeAt(0));\n    }\n\n    uint8ArrayFromBase64Url(base64Url)\n    {\n        return Uint8Array.from(window.atob(base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\")), (v) => v.charCodeAt(0));\n    }\n    \n     uint8ArrayFromBase64(base64)\n    {\n        return Uint8Array.from(window.atob(base64), (v) => v.charCodeAt(0));\n    }\n    \n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { ClientDataObj, DecodedAttestionObj } from 'src/app/models/web-authn.model';\nimport { MockService } from 'src/app/services/mock.service';\nimport * as CBOR from 'src/app/utils/cbor';\nimport { loginPayload, registerPayload } from '../components/web-authn/utils/app-util';\n@Injectable()\nexport class WebAuthnAPIService {\n    private url = '';\n    private baseUrl = 'http://localhost:8080';\n    constructor(public http: HttpClient, private mockService: MockService) {\n    }\n\n    webAuthnRegister(): Observable<any> {\n        this.url = `${this.baseUrl}/web-authn-registration`;\n\n        const utf8Decoder = new TextDecoder('utf-8');\n        const clientData = this.mockService.base64urlDecode(registerPayload.response.clientDataJSON);\n        const decodedClientData = utf8Decoder.decode(clientData);\n        const clientDataObj: ClientDataObj = JSON.parse(decodedClientData);\n        console.log(clientDataObj);\n\n        const attestationObject = this.mockService.base64urlDecode(registerPayload.response.attestationObject);\n        console.log(attestationObject);\n        const decodedAttestationObj: DecodedAttestionObj = CBOR.decode(attestationObject);\n        console.log(decodedAttestationObj);\n\n        const credentialId = this.mockService.base64urlDecode(\"d1U_F_EYDdh37vHhe3bb1Y2uWFw\");\n        console.log(credentialId);\n\n        return this.http.post<any>(this.url, registerPayload);\n    }\n\n    webAuthnLogin(authenticator): Observable<any> {\n        this.url = `${this.baseUrl}/web-authn-authentication`;\n        console.log(loginPayload);\n        loginPayload.authenticator = authenticator;\n        return this.http.post<any>(this.url, loginPayload);\n    }\n\n\n    getChallenge(): Observable<any> {\n        this.url = `${this.baseUrl}/get-challenge`;\n        return this.http.get<any>(this.url);\n    }\n}","import { Injectable } from '@angular/core';\nimport { User } from 'src/app/models/web-authn.model';\nimport { MockService } from './mock.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class WebAuthnMockService {\n\n    constructor(private mockService: MockService) { }\n    private getPlatformFlag(): boolean {\n        return !!JSON.parse(localStorage.getItem('isPlatform'));\n    }\n\n    signup(user: User): Promise<Credential> {\n        const authenticatorAttachment = this.getPlatformFlag() ? 'platform' : 'cross-platform';\n        const challenge: string = this.mockService.genUUID();\n        console.log(\"----------Sign up challenge----------\");\n        console.log(challenge);\n        const publicKeyCredentialCreationOptions: PublicKeyCredentialCreationOptions = {\n            // Should generate from server\n            challenge: Uint8Array.from(challenge, c => c.charCodeAt(0)),\n            // Relying Party\n            rp: {\n                name: \"demo\",\n                // id: \"\" // domain\n            },\n            user: {\n                // Some user id coming from the server\n                id: Uint8Array.from(user.mobileNumber, c => c.charCodeAt(0)),\n                name: user.email,\n                displayName: user.email,\n            },\n            pubKeyCredParams: [{ alg: -7, type: 'public-key' }],\n            authenticatorSelection: {\n                // authenticatorAttachment,\n                authenticatorAttachment: 'platform',\n                userVerification: 'required'\n            },\n            timeout: 100000,\n            attestation: 'direct'\n        };\n        console.log(\"----------Sign up Payload----------\");\n        console.log(JSON.stringify(publicKeyCredentialCreationOptions));\n        return navigator.credentials.create({\n            publicKey: publicKeyCredentialCreationOptions,\n        });\n    }\n\n    signin(user: User): Promise<Credential> {\n        const transports: AuthenticatorTransport[] = this.getPlatformFlag() ? ['internal'] : ['usb'];\n        const allowCredentials: PublicKeyCredentialDescriptor[] = user.credentials.map(c => {\n            return {\n                // transports, \n                transports: ['internal'],\n                type: 'public-key', id: new Uint8Array(this.mockService.base64ToArrayBuffer(c.credentialIdString))\n                // id: Uint8Array.from(c.credentialId)\n            };\n        });\n\n        console.log(\"----------Sign in challenge----------\");\n        const challenge: string = this.mockService.genUUID();\n        console.log(challenge);\n        const credentialRequestOptions: PublicKeyCredentialRequestOptions = {\n            challenge: Uint8Array.from(challenge, c => c.charCodeAt(0)),\n            allowCredentials,\n            userVerification: 'required'\n\n        };\n        console.log(\"----------Sign in Payload----------\")\n        console.log(JSON.stringify(credentialRequestOptions));\n\n        return navigator.credentials.get({\n            publicKey: credentialRequestOptions,\n        });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/internal/Observable';\nimport { from, of } from 'rxjs';\nimport { DecodedAttestionObj, User } from 'src/app/models/web-authn.model';\nimport { MockService } from 'src/app/services/mock.service';\nimport * as CBOR from 'src/app/utils/cbor';\nimport { catchError, finalize, switchMap } from 'rxjs/operators';\nimport { HttpClient } from '@angular/common/http';\n@Injectable()\nexport class WebAuthnService {\n    private url = '';\n    private baseUrl = 'http://localhost:8080';\n    constructor(public http: HttpClient, private mockService: MockService) {\n    }\n\n    private getPlatformFlag(): boolean {\n        return !!JSON.parse(localStorage.getItem('isPlatform'));\n    }\n    private generateUUIDv4() {\n        return (`${[1e7]}${-1e3}${-4e3}${-8e3}${-1e11}`).replace(/[018]/g, (c: any) =>\n            (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n        );\n    }\n\n    private getChallenge(): Observable<any> {\n        return of(this.generateUUIDv4());\n    }\n\n    private getChallengeFromServer(): Observable<any> {\n        this.url = `${this.baseUrl}/get-challenge`;\n        return this.http.get<any>(this.url);\n    }\n\n    private publicKeyCredentialToBase64Url(publicKeyCred) {\n        if (publicKeyCred instanceof ArrayBuffer) {\n            return this.base64urlEncode(publicKeyCred);\n        } else if (publicKeyCred instanceof Array) {\n            return publicKeyCred.map(this.publicKeyCredentialToBase64Url);\n        } else if (publicKeyCred instanceof Object) {\n            const obj = {};\n            for (let key in publicKeyCred) {\n                obj[key] = this.publicKeyCredentialToBase64Url(publicKeyCred[key]);\n            }\n            return obj;\n        } else return publicKeyCred;\n    }\n\n    private base64urlEncode(arraybuffer) {\n        let chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n        // Use a lookup table to find the index.\n        let lookup = new Uint8Array(256);\n        for (let i = 0; i < chars.length; i++) {\n            lookup[chars.charCodeAt(i)] = i;\n        }\n        let bytes = new Uint8Array(arraybuffer),\n            i, len = bytes.length, base64 = \"\";\n\n        for (i = 0; i < len; i += 3) {\n            base64 += chars[bytes[i] >> 2];\n            base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n            base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n            base64 += chars[bytes[i + 2] & 63];\n        }\n\n        if ((len % 3) === 2) {\n            base64 = base64.substring(0, base64.length - 1);\n        } else if (len % 3 === 1) {\n            base64 = base64.substring(0, base64.length - 2);\n        }\n\n        return base64;\n    }\n\n    private base64urlDecode(base64) {\n        let chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n        // Use a lookup table to find the index.\n        var lookup = new Uint8Array(256);\n        for (let i = 0; i < chars.length; i++) {\n            lookup[chars.charCodeAt(i)] = i;\n        }\n        let bufferLength = base64.length * 0.75,\n            len = base64.length, i, p = 0,\n            encoded1, encoded2, encoded3, encoded4;\n\n        let arraybuffer = new ArrayBuffer(bufferLength),\n            bytes = new Uint8Array(arraybuffer);\n\n        for (i = 0; i < len; i += 4) {\n            encoded1 = lookup[base64.charCodeAt(i)];\n            encoded2 = lookup[base64.charCodeAt(i + 1)];\n            encoded3 = lookup[base64.charCodeAt(i + 2)];\n            encoded4 = lookup[base64.charCodeAt(i + 3)];\n\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n        }\n\n        return arraybuffer;\n    };\n\n    private signup(credential): Observable<any> {\n        this.url = `${this.baseUrl}/web-authn-registration`;\n        return this.http.post<any>(this.url, credential);\n    }\n\n    private webAuthnSignup(user: User, challenge: string): Promise<Credential> {\n        const authenticatorAttachment = this.getPlatformFlag() ? 'platform' : 'cross-platform';\n        const publicKeyCredentialCreationOptions: PublicKeyCredentialCreationOptions = {\n            // Should generate from server\n            challenge: Uint8Array.from(challenge, c => c.charCodeAt(0)),\n            // Relying Party\n            rp: {\n                name: \"demo\",\n                // id: \"\" // domain\n            },\n            user: {\n                // Some user id coming from the server\n                id: Uint8Array.from(user.mobileNumber, c => c.charCodeAt(0)),\n                name: user.email,\n                displayName: user.email,\n            },\n            pubKeyCredParams: [{ alg: -7, type: 'public-key' }],\n            authenticatorSelection: {\n                authenticatorAttachment,\n                userVerification: \"required\"\n            },\n            timeout: 100000,\n            attestation: 'direct'\n        };\n        return navigator.credentials.create({\n            publicKey: publicKeyCredentialCreationOptions,\n        });\n    }\n\n    private signin(credential): Observable<any> {\n        this.url = `${this.baseUrl}/web-authn-authentication`;\n        return this.http.post<any>(this.url, credential);\n    }\n\n    private webAuthnSignin(user: User, challenge: string): Promise<Credential> {\n        const transports: AuthenticatorTransport[] = this.getPlatformFlag() ? ['internal'] : ['usb'];\n        const allowCredentials: PublicKeyCredentialDescriptor[] = user.credentials.map(c => {\n            const credentialId = new Uint8Array(this.base64urlDecode(c.credentialIdString));\n            return {\n                transports, type: 'public-key', id: credentialId\n                // id: Uint8Array.from(c.credentialId),\n            };\n        });\n\n        const credentialRequestOptions: PublicKeyCredentialRequestOptions = {\n            challenge: Uint8Array.from('5a31ec74-8280-4f61-abf0-810aab460570', c => c.charCodeAt(0)),\n            allowCredentials,\n            userVerification: \"required\"\n        };\n        console.log(\"----------Sign in Payload----------\")\n        console.log(JSON.stringify(credentialRequestOptions));\n\n        return navigator.credentials.get({\n            publicKey: credentialRequestOptions,\n        });\n    }\n\n\n    private isSupportBiometricLogin(): Observable<boolean> {\n        if (window.PublicKeyCredential) {\n            return from(new Promise<boolean>((resolve, reject) => {\n                PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()\n                    .then(available => {\n                        if (available) {\n                            // console.log(\"Supported.\");\n                            resolve(true);\n                        } else {\n                            // console.log(\"WebAuthn supported, Platform Authenticator *not* supported.\");\n                            resolve(false);\n                        }\n                    })\n                    .catch(error => {\n                        // console.log(\"Something went wrong.\");\n                        resolve(false);\n                    })\n            }));\n        } else {\n            // console.log(\"Not supported.\");\n            return of(false);\n        }\n    };\n\n    signupFlow(user): Observable<any> {\n        return this.getChallengeFromServer().pipe(\n            switchMap(challengeResp => {\n                const { challenge } = challengeResp;\n                console.log(challenge);\n                return from(\n                    this.webAuthnSignup(user, challenge)\n                        .then((credential: any) => {\n                            const credentialBase64Url = this.publicKeyCredentialToBase64Url(credential);\n                            return Promise.resolve(credentialBase64Url)\n                        })\n                        .catch(error => Promise.reject(error))\n                )\n            }),\n            switchMap(credentialBase64Url => {\n                return this.signup(credentialBase64Url);\n            }),\n            catchError(error => {\n                // handle error\n                return of(error);\n            }),\n            finalize(() => console.log(\"Finished\"))\n        );\n    };\n\n    signinFlow(user: User): Observable<any> {\n        return this.getChallengeFromServer().pipe(\n            switchMap(challengeResp => {\n                const { challenge } = challengeResp;\n                console.log(challenge);\n                return from(this.webAuthnSignin(user, challenge)\n                    .then(assertion => {\n                        const credentialBase64Url = this.publicKeyCredentialToBase64Url(assertion);\n                        credentialBase64Url.response.userHandle = credentialBase64Url.response.userHandle || '';\n                        credentialBase64Url.authenticator = {\n                            credentialIdString: user.credentials[0].credentialIdString,\n                            authenticatorString: user.authenticatorString\n                        };\n                        return Promise.resolve(credentialBase64Url);\n                    })\n                    .catch(error => Promise.reject(error))\n                )\n            }),\n            switchMap(credentialBase64Url => {\n                return this.signin(credentialBase64Url);\n            }),\n            catchError(error => {\n                // handle error \n                return of(error)\n            })\n        );\n    };\n\n    // ----------------------------------------------------------------------------------------------------------\n\n\n    // Validate and Store credential\n    registerCredential(credential: PublicKeyCredential): Uint8Array {\n        const authData = this.extractAuthData(credential);\n        const credentialIdLength = this.getCredentialIdLength(authData);\n        const credentialId: Uint8Array = authData.slice(55, 55 + credentialIdLength);\n        const publicKeyBytes: Uint8Array = authData.slice(55 + credentialIdLength);\n        // const publicKeyObject = CBOR.decode(publicKeyBytes.buffer);\n        const valid = true;\n        if (valid) {\n            // Save publicKeyBytes and credentialId\n            return credentialId;\n        }\n    }\n\n    extractAuthData(credential: PublicKeyCredential): Uint8Array {\n        const decodedAttestationObj: DecodedAttestionObj = CBOR.decode((credential.response as any).attestationObject);\n        const { authData } = decodedAttestationObj;\n        return authData;\n    }\n\n    getCredentialIdLength(authData: Uint8Array): number {\n        // get the length of the credential ID\n        const dataView = new DataView(new ArrayBuffer(2));\n        const idLenBytes = authData.slice(53, 55);\n        idLenBytes.forEach((value, index) => dataView.setUint8(index, value));\n        return dataView.getUint16(0);\n    }\n}","/*\n * The MIT License (MIT)\n *\n * Copyright (c) 2014-2016 Patrick Gansterer <paroga@paroga.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n(function(global, undefined) { \"use strict\";\nvar POW_2_24 = 5.960464477539063e-8,\n    POW_2_32 = 4294967296,\n    POW_2_53 = 9007199254740992;\n\nfunction encode(value) {\n  var data = new ArrayBuffer(256);\n  var dataView = new DataView(data);\n  var lastLength;\n  var offset = 0;\n\n  function prepareWrite(length) {\n    var newByteLength = data.byteLength;\n    var requiredLength = offset + length;\n    while (newByteLength < requiredLength)\n      newByteLength <<= 1;\n    if (newByteLength !== data.byteLength) {\n      var oldDataView = dataView;\n      data = new ArrayBuffer(newByteLength);\n      dataView = new DataView(data);\n      var uint32count = (offset + 3) >> 2;\n      for (var i = 0; i < uint32count; ++i)\n        dataView.setUint32(i << 2, oldDataView.getUint32(i << 2));\n    }\n\n    lastLength = length;\n    return dataView;\n  }\n  function commitWrite() {\n    offset += lastLength;\n  }\n  function writeFloat64(value) {\n    commitWrite(prepareWrite(8).setFloat64(offset, value));\n  }\n  function writeUint8(value) {\n    commitWrite(prepareWrite(1).setUint8(offset, value));\n  }\n  function writeUint8Array(value) {\n    var dataView = prepareWrite(value.length);\n    for (var i = 0; i < value.length; ++i)\n      dataView.setUint8(offset + i, value[i]);\n    commitWrite();\n  }\n  function writeUint16(value) {\n    commitWrite(prepareWrite(2).setUint16(offset, value));\n  }\n  function writeUint32(value) {\n    commitWrite(prepareWrite(4).setUint32(offset, value));\n  }\n  function writeUint64(value) {\n    var low = value % POW_2_32;\n    var high = (value - low) / POW_2_32;\n    var dataView = prepareWrite(8);\n    dataView.setUint32(offset, high);\n    dataView.setUint32(offset + 4, low);\n    commitWrite();\n  }\n  function writeTypeAndLength(type, length) {\n    if (length < 24) {\n      writeUint8(type << 5 | length);\n    } else if (length < 0x100) {\n      writeUint8(type << 5 | 24);\n      writeUint8(length);\n    } else if (length < 0x10000) {\n      writeUint8(type << 5 | 25);\n      writeUint16(length);\n    } else if (length < 0x100000000) {\n      writeUint8(type << 5 | 26);\n      writeUint32(length);\n    } else {\n      writeUint8(type << 5 | 27);\n      writeUint64(length);\n    }\n  }\n\n  function encodeItem(value) {\n    var i;\n\n    if (value === false)\n      return writeUint8(0xf4);\n    if (value === true)\n      return writeUint8(0xf5);\n    if (value === null)\n      return writeUint8(0xf6);\n    if (value === undefined)\n      return writeUint8(0xf7);\n\n    switch (typeof value) {\n      case \"number\":\n        if (Math.floor(value) === value) {\n          if (0 <= value && value <= POW_2_53)\n            return writeTypeAndLength(0, value);\n          if (-POW_2_53 <= value && value < 0)\n            return writeTypeAndLength(1, -(value + 1));\n        }\n        writeUint8(0xfb);\n        return writeFloat64(value);\n\n      case \"string\":\n        var utf8data = [];\n        for (i = 0; i < value.length; ++i) {\n          var charCode = value.charCodeAt(i);\n          if (charCode < 0x80) {\n            utf8data.push(charCode);\n          } else if (charCode < 0x800) {\n            utf8data.push(0xc0 | charCode >> 6);\n            utf8data.push(0x80 | charCode & 0x3f);\n          } else if (charCode < 0xd800) {\n            utf8data.push(0xe0 | charCode >> 12);\n            utf8data.push(0x80 | (charCode >> 6)  & 0x3f);\n            utf8data.push(0x80 | charCode & 0x3f);\n          } else {\n            charCode = (charCode & 0x3ff) << 10;\n            charCode |= value.charCodeAt(++i) & 0x3ff;\n            charCode += 0x10000;\n\n            utf8data.push(0xf0 | charCode >> 18);\n            utf8data.push(0x80 | (charCode >> 12)  & 0x3f);\n            utf8data.push(0x80 | (charCode >> 6)  & 0x3f);\n            utf8data.push(0x80 | charCode & 0x3f);\n          }\n        }\n\n        writeTypeAndLength(3, utf8data.length);\n        return writeUint8Array(utf8data);\n\n      default:\n        var length;\n        if (Array.isArray(value)) {\n          length = value.length;\n          writeTypeAndLength(4, length);\n          for (i = 0; i < length; ++i)\n            encodeItem(value[i]);\n        } else if (value instanceof Uint8Array) {\n          writeTypeAndLength(2, value.length);\n          writeUint8Array(value);\n        } else {\n          var keys = Object.keys(value);\n          length = keys.length;\n          writeTypeAndLength(5, length);\n          for (i = 0; i < length; ++i) {\n            var key = keys[i];\n            encodeItem(key);\n            encodeItem(value[key]);\n          }\n        }\n    }\n  }\n\n  encodeItem(value);\n\n  if (\"slice\" in data)\n    return data.slice(0, offset);\n\n  var ret = new ArrayBuffer(offset);\n  var retView = new DataView(ret);\n  for (var i = 0; i < offset; ++i)\n    retView.setUint8(i, dataView.getUint8(i));\n  return ret;\n}\n\nfunction decode(data, tagger, simpleValue) {\n  var dataView = new DataView(data);\n  var offset = 0;\n\n  if (typeof tagger !== \"function\")\n    tagger = function(value) { return value; };\n  if (typeof simpleValue !== \"function\")\n    simpleValue = function() { return undefined; };\n\n  function commitRead(length, value) {\n    offset += length;\n    return value;\n  }\n  function readArrayBuffer(length) {\n    return commitRead(length, new Uint8Array(data, offset, length));\n  }\n  function readFloat16() {\n    var tempArrayBuffer = new ArrayBuffer(4);\n    var tempDataView = new DataView(tempArrayBuffer);\n    var value = readUint16();\n\n    var sign = value & 0x8000;\n    var exponent = value & 0x7c00;\n    var fraction = value & 0x03ff;\n\n    if (exponent === 0x7c00)\n      exponent = 0xff << 10;\n    else if (exponent !== 0)\n      exponent += (127 - 15) << 10;\n    else if (fraction !== 0)\n      return (sign ? -1 : 1) * fraction * POW_2_24;\n\n    tempDataView.setUint32(0, sign << 16 | exponent << 13 | fraction << 13);\n    return tempDataView.getFloat32(0);\n  }\n  function readFloat32() {\n    return commitRead(4, dataView.getFloat32(offset));\n  }\n  function readFloat64() {\n    return commitRead(8, dataView.getFloat64(offset));\n  }\n  function readUint8() {\n    return commitRead(1, dataView.getUint8(offset));\n  }\n  function readUint16() {\n    return commitRead(2, dataView.getUint16(offset));\n  }\n  function readUint32() {\n    return commitRead(4, dataView.getUint32(offset));\n  }\n  function readUint64() {\n    return readUint32() * POW_2_32 + readUint32();\n  }\n  function readBreak() {\n    if (dataView.getUint8(offset) !== 0xff)\n      return false;\n    offset += 1;\n    return true;\n  }\n  function readLength(additionalInformation) {\n    if (additionalInformation < 24)\n      return additionalInformation;\n    if (additionalInformation === 24)\n      return readUint8();\n    if (additionalInformation === 25)\n      return readUint16();\n    if (additionalInformation === 26)\n      return readUint32();\n    if (additionalInformation === 27)\n      return readUint64();\n    if (additionalInformation === 31)\n      return -1;\n    throw \"Invalid length encoding\";\n  }\n  function readIndefiniteStringLength(majorType) {\n    var initialByte = readUint8();\n    if (initialByte === 0xff)\n      return -1;\n    var length = readLength(initialByte & 0x1f);\n    if (length < 0 || (initialByte >> 5) !== majorType)\n      throw \"Invalid indefinite length element\";\n    return length;\n  }\n\n  function appendUtf16Data(utf16data, length) {\n    for (var i = 0; i < length; ++i) {\n      var value = readUint8();\n      if (value & 0x80) {\n        if (value < 0xe0) {\n          value = (value & 0x1f) <<  6\n                | (readUint8() & 0x3f);\n          length -= 1;\n        } else if (value < 0xf0) {\n          value = (value & 0x0f) << 12\n                | (readUint8() & 0x3f) << 6\n                | (readUint8() & 0x3f);\n          length -= 2;\n        } else {\n          value = (value & 0x0f) << 18\n                | (readUint8() & 0x3f) << 12\n                | (readUint8() & 0x3f) << 6\n                | (readUint8() & 0x3f);\n          length -= 3;\n        }\n      }\n\n      if (value < 0x10000) {\n        utf16data.push(value);\n      } else {\n        value -= 0x10000;\n        utf16data.push(0xd800 | (value >> 10));\n        utf16data.push(0xdc00 | (value & 0x3ff));\n      }\n    }\n  }\n\n  function decodeItem() {\n    var initialByte = readUint8();\n    var majorType = initialByte >> 5;\n    var additionalInformation = initialByte & 0x1f;\n    var i;\n    var length;\n\n    if (majorType === 7) {\n      switch (additionalInformation) {\n        case 25:\n          return readFloat16();\n        case 26:\n          return readFloat32();\n        case 27:\n          return readFloat64();\n      }\n    }\n\n    length = readLength(additionalInformation);\n    if (length < 0 && (majorType < 2 || 6 < majorType))\n      throw \"Invalid length\";\n\n    switch (majorType) {\n      case 0:\n        return length;\n      case 1:\n        return -1 - length;\n      case 2:\n        if (length < 0) {\n          var elements = [];\n          var fullArrayLength = 0;\n          while ((length = readIndefiniteStringLength(majorType)) >= 0) {\n            fullArrayLength += length;\n            elements.push(readArrayBuffer(length));\n          }\n          var fullArray = new Uint8Array(fullArrayLength);\n          var fullArrayOffset = 0;\n          for (i = 0; i < elements.length; ++i) {\n            fullArray.set(elements[i], fullArrayOffset);\n            fullArrayOffset += elements[i].length;\n          }\n          return fullArray;\n        }\n        return readArrayBuffer(length);\n      case 3:\n        var utf16data = [];\n        if (length < 0) {\n          while ((length = readIndefiniteStringLength(majorType)) >= 0)\n            appendUtf16Data(utf16data, length);\n        } else\n          appendUtf16Data(utf16data, length);\n        return String.fromCharCode.apply(null, utf16data);\n      case 4:\n        var retArray;\n        if (length < 0) {\n          retArray = [];\n          while (!readBreak())\n            retArray.push(decodeItem());\n        } else {\n          retArray = new Array(length);\n          for (i = 0; i < length; ++i)\n            retArray[i] = decodeItem();\n        }\n        return retArray;\n      case 5:\n        var retObject = {};\n        for (i = 0; i < length || length < 0 && !readBreak(); ++i) {\n          var key = decodeItem();\n          retObject[key] = decodeItem();\n        }\n        return retObject;\n      case 6:\n        return tagger(decodeItem(), length);\n      case 7:\n        switch (length) {\n          case 20:\n            return false;\n          case 21:\n            return true;\n          case 22:\n            return null;\n          case 23:\n            return undefined;\n          default:\n            return simpleValue(length);\n        }\n    }\n  }\n\n  var ret = decodeItem();\n  if (offset !== data.byteLength)\n    throw \"Remaining bytes\";\n  return ret;\n}\n\nvar obj = { encode: encode, decode: decode };\n\nif (typeof define === \"function\" && define.amd)\n  define(\"cbor/cbor\", obj);\nelse if (typeof module !== \"undefined\" && module.exports)\n  module.exports = obj;\nelse if (!global.CBOR)\n  global.CBOR = obj;\n\n})(this);","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  platformBrowserDynamic()\n    .bootstrapModule(AppModule)\n    .then(() => {\n      if ('serviceWorker' in navigator) {\n        console.log('Service Worker is supported');\n        navigator.serviceWorker.register('/firebase-messaging-sw.js')\n          .then(function (swReg) {\n            console.log('Service Worker is registered', swReg);\n          })\n          .catch(function (error) {\n            console.error('Service Worker Error', error);\n          });\n      }\n      if ('PushManager' in window) {\n        Notification.requestPermission(function (status) {\n          console.log('Notification permission status:', status);\n        });\n        console.log('Push messaging is supported');\n      } else {\n        console.error('Push messaging is not supported');\n      }\n    })\n    .catch(err => console.log(err));\n});"],"sourceRoot":"webpack:///"}